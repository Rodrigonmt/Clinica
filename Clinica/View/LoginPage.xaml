<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="Clinica.View.LoginPage"
    Shell.NavBarIsVisible="False"
    BackgroundColor="{AppThemeBinding Light=#F4F7FB, Dark=#1E1E1E}"
    Appearing="OnPageAppearing">

    <ContentPage.Resources>
        <Color x:Key="LightPrimary">#5A7DFE</Color>
        <Color x:Key="DarkPrimary">#8BA2FF</Color>
        <Color x:Key="LightText">#222222</Color>
        <Color x:Key="DarkText">#FFFFFF</Color>
    </ContentPage.Resources>

    <ScrollView>
        <VerticalStackLayout Padding="30" Spacing="25">

            <Label x:Name="lblTitulo"
                   Text="Bem-vindo"
                   FontSize="36"
                   TextColor="{AppThemeBinding Light={StaticResource LightText}, Dark={StaticResource DarkText}}"
                   FontAttributes="Bold"
                   Opacity="0" />

            <Label x:Name="lblSubTitulo"
                   Text="Faça login para continuar"
                   FontSize="18"
                   TextColor="{AppThemeBinding Light={StaticResource LightText}, Dark={StaticResource DarkText}}"
                   Opacity="0" />

            <Frame x:Name="frmContainer"
                   BackgroundColor="{AppThemeBinding Light=White, Dark=#2B2B2B}"
                   CornerRadius="25"
                   Padding="25"
                   HasShadow="True"
                   Opacity="0">

                <VerticalStackLayout Spacing="22">

                    <Label Text="Email"
                           FontSize="16"
                           TextColor="{AppThemeBinding Light={StaticResource LightText}, Dark={StaticResource DarkText}}" />

                    <Grid ColumnDefinitions="40,*,40"
                          BackgroundColor="{AppThemeBinding Light=#F0F2F5, Dark=#3E3E3E}"
                          HeightRequest="55"
                          Padding="5"
                          ColumnSpacing="10">

                        <Image Source="email.png"
                           WidthRequest="24"
                           HeightRequest="24"
                           VerticalOptions="Center"
                           HorizontalOptions="Center"/>

                        <Entry x:Name="EmailEntry"
                           Grid.Column="1"
                           Placeholder="Digite seu email"
                           FontSize="16"
                           TextColor="{AppThemeBinding Light={StaticResource LightText}, Dark={StaticResource DarkText}}"
                           BackgroundColor="Transparent"/>
                    </Grid>


                    <Label Text="Senha"
                           FontSize="16"
                           TextColor="{AppThemeBinding Light={StaticResource LightText}, Dark={StaticResource DarkText}}" />

                    <Grid ColumnDefinitions="40,*,40"
                          BackgroundColor="{AppThemeBinding Light=#F0F2F5, Dark=#3E3E3E}"
                          HeightRequest="55"
                          Padding="5"
                          ColumnSpacing="10">

                        <Image Source="lock.png"
                           WidthRequest="24"
                           HeightRequest="24"
                           VerticalOptions="Center"
                           HorizontalOptions="Center"/>

                        <Entry x:Name="SenhaEntry"
                           Grid.Column="1"
                           Placeholder="Digite sua senha"
                           IsPassword="True"
                           FontSize="16"
                           TextColor="{AppThemeBinding Light={StaticResource LightText}, Dark={StaticResource DarkText}}"
                           BackgroundColor="Transparent"/>

                        <Image x:Name="imgMostrarSenha"
                           Grid.Column="2"
                           Source="visibility.png"
                           WidthRequest="24"
                           HeightRequest="24"
                           VerticalOptions="Center"
                           HorizontalOptions="Center">
                            <Image.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnMostrarSenhaTapped"/>
                            </Image.GestureRecognizers>
                        </Image>
                    </Grid>


                    <HorizontalStackLayout VerticalOptions="Center" Spacing="8">
                        <CheckBox x:Name="chkLembrar" IsChecked="False" VerticalOptions="Center"/>
                        <Label Text="Lembrar-me" VerticalOptions="Center" 
                               TextColor="{AppThemeBinding Light={StaticResource LightText}, Dark={StaticResource DarkText}}" />
                    </HorizontalStackLayout>

                    <Button x:Name="btnEntrar"
                            Text="Entrar"
                            Clicked="OnLoginClicked"
                            HeightRequest="55"
                            CornerRadius="15"
                            BackgroundColor="{AppThemeBinding Light={StaticResource LightPrimary}, Dark={StaticResource DarkPrimary}}"
                            TextColor="White"
                            FontSize="20"
                            FontAttributes="Bold" />

                    <HorizontalStackLayout HorizontalOptions="Center">
                        <Label Text="Não tem conta?"
                               TextColor="{AppThemeBinding Light={StaticResource LightText}, Dark={StaticResource DarkText}}" />
                        <Label Text=" Cadastre-se"
                               TextColor="{AppThemeBinding Light={StaticResource LightPrimary}, Dark={StaticResource DarkPrimary}}"
                               FontAttributes="Bold">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnCadastrarClicked" />
                            </Label.GestureRecognizers>
                        </Label>
                    </HorizontalStackLayout>

                </VerticalStackLayout>
            </Frame>

            <Label x:Name="btnEsqueci"
                   Text="Esqueci minha senha"
                   TextColor="{AppThemeBinding Light={StaticResource LightPrimary}, Dark={StaticResource DarkPrimary}}"
                   FontSize="16"
                   FontAttributes="Bold"
                   TextDecorations="Underline"
                   HorizontalOptions="Center"
                   Margin="0,10,0,10">
                <Label.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnRecuperarClicked"/>
                </Label.GestureRecognizers>
            </Label>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>