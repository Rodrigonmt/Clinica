<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Clinica.View.ConsultasAgendaPage"
             Title="Minhas Consultas"
             BackgroundColor="White">

    <VerticalStackLayout Padding="20" Spacing="15">

        <Label Text="Consultas Agendadas"
               FontSize="24"
               FontAttributes="Bold"
               TextColor="Black"
               HorizontalOptions="Center"/>

        <CollectionView x:Name="consultasCollection"
                        ItemsSource="{Binding Consultas}"
                        SelectionMode="None">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame BorderColor="#007AFF" CornerRadius="12" Padding="10" Margin="5">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnConsultaTapped" />
                        </Frame.GestureRecognizers>

                        <VerticalStackLayout>
                            <Label Text="{Binding Data, StringFormat='{0:dd/MM/yyyy}'}"
                               FontSize="18" TextColor="Black"/>

                                            <Label Text="{Binding Hora}" 
                               FontSize="16" TextColor="Gray"/>

                                            <Label Text="{Binding Medico}" 
                               FontSize="16" TextColor="#007AFF"/>

                                            <Label Text="{Binding Status}" 
                               FontSize="14" FontAttributes="Italic"
                               TextColor="DarkGreen"/>
                        </VerticalStackLayout>
                    </Frame>

                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <Label x:Name="lblSemConsultas"
               Text="Nenhuma consulta encontrada."
               FontSize="16"
               TextColor="Gray"
               HorizontalOptions="Center"
               IsVisible="False"/>

    </VerticalStackLayout>
</ContentPage>
